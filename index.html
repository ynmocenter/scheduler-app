<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>نظام مواعيد المركز</title>
  <style>
    body { font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; padding: 0; background: #f5f5f5; }
    header { background: #004466; color: #fff; padding: 10px 20px; display: flex; align-items: center; }
    header img.logo { height: 50px; margin-left: 15px; }
    header h1 { margin: 0; font-size: 1.5rem; }
    nav { background: #e3f2f1; padding: 10px; display: flex; gap: 10px; }
    nav button { background: #004466; color: #fff; border: none; padding: 8px 12px; cursor: pointer; border-radius: 4px; }
    nav button.active { background: #007c91; }
    section { padding: 20px; display: none; }
    section.active { display: block; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    table th, table td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    table th { background: #e0f7fa; }
    .form-group { margin-bottom: 12px; }
    label { display: block; margin-bottom: 4px; }
    input, select { width: 100%; padding: 6px; box-sizing: border-box; }
    .btn { background: #004466; color: #fff; border: none; padding: 8px 16px; cursor: pointer; border-radius: 4px; }
    .color-cell { width: 16px; height: 16px; display: inline-block; margin-left: 4px; vertical-align: middle; }
  </style>
</head>
<body>

<header>
  <img src="logo.png" alt="Logo" class="logo">
  <h1>نظام مواعيد المركز</h1>
</header>

<nav>
  <button data-target="settings" class="active">الإعدادات</button>
  <button data-target="specialists">الأخصائيون</button>
  <button data-target="children">الأطفال</button>
  <button data-target="schedule">الجدول</button>
  <button data-target="replacements">التعويضات</button>
</nav>

<!-- Settings -->
<section id="settings" class="active">
  <h2>الإعدادات العامة</h2>
  <div class="form-group">
    <label>الأقسام:</label>
    <input type="text" id="departments" placeholder="مثال: تعديل سلوك، تخاطب، تنمية مهارات">
  </div>
  <div class="form-group">
    <label>أنماط الاشتراك:</label>
    <input type="text" id="plans" placeholder="مثال: 24 جلسة، 36 جلسة، ساعة اختبار...">
  </div>
  <div class="form-group">
    <label>أنواع الجلسات:</label>
    <input type="text" id="sessionTypes" placeholder="مثال: جلسة نفسية، اختبار ذكاء">
  </div>
  <div class="form-group">
    <label>أوقات العمل:</label>
    <input type="text" id="timeSlots" placeholder="مثال: 13:00-15:00, 15:20-17:20...">
  </div>
  <button class="btn" onclick="saveSettings()">حفظ</button>
</section>

<!-- Specialists -->
<section id="specialists">
  <h2>إدارة الأخصائيين</h2>
  <div class="form-group">
    <label>اسم الأخصائي:</label>
    <input type="text" id="specName">
  </div>
  <div class="form-group">
    <label>القسم:</label>
    <select id="specDept"></select>
  </div>
  <div class="form-group">
    <label>البريد الإلكتروني:</label>
    <input type="email" id="specEmail">
  </div>
  <div class="form-group">
    <label>أيام العمل (مثال: 1-6):</label>
    <input type="text" id="specDays">
  </div>
  <button class="btn" onclick="addSpecialist()">إضافة أخصائي</button>
  <table id="specialistsTable"><thead><tr><th>اسم</th><th>القسم</th><th>إيميل</th><th>أيام العمل</th></tr></thead><tbody></tbody></table>
</section>

<!-- Children -->
<section id="children">
  <h2>إدارة الأطفال</n2>
  <div class="form-group">
    <label>اسم الطفل:</label>
    <input type="text" id="childName">
  </div>
  <div class="form-group">
    <label>الاحتياج (القسم):</label>
    <select id="childNeeds"></select>
  </div>
  <div class="form-group">
    <label>نمط الاشتراك:</label>
    <select id="childPlan"></select>
  </div>
  <button class="btn" onclick="addChild()">إضافة طفل</button>
  <table id="childrenTable"><thead><tr><th>اسم</th><th>احتياج</th><th>خطة</th></tr></thead><tbody></tbody></table>
</section>

<!-- Schedule -->
<section id="schedule">
  <h2>الجدول الرئيسي</h2>
  <table id="scheduleTable">
    <thead><tr><th>اليوم</th><th>الفترة</th><th>القسم</th><th>الأخصائي</th><th>الطفل</th><th>نوع الجلسة</th><th>الحالة</th></tr></thead>
    <tbody></tbody>
  </table>
  <button class="btn" onclick="generateSchedule()">توزيع الجلسات</button>
</section>

<!-- Replacements -->
<section id="replacements">
  <h2>إدارة التعويضات</h2>
  <table id="replTable">
    <thead><tr><th>تاريخ</th><th>الفترة</th><th>القسم</th><th>الأخصائي</th><th>ملاحظات</th></tr></thead>
    <tbody></tbody>
  </table>
  <button class="btn" onclick="addReplacement()">إضافة تعويض</button>
</section>

<script>
  // Navigation
  document.querySelectorAll('nav button').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
      document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
      btn.classList.add('active');
      document.getElementById(btn.dataset.target).classList.add('active');
    });
  });

  // Data storage
  let settings = {}, specialists = [], children = [];

  function saveSettings() {
    settings.departments = document.getElementById('departments').value.split(',').map(s=>s.trim());
    settings.plans = document.getElementById('plans').value.split(',').map(s=>s.trim());
    settings.types = document.getElementById('sessionTypes').value.split(',').map(s=>s.trim());
    settings.slots = document.getElementById('timeSlots').value.split(',').map(s=>s.trim());
    populateSelect('specDept', settings.departments);
    populateSelect('childNeeds', settings.departments);
    populateSelect('childPlan', settings.plans);
    alert('تم حفظ الإعدادات');
  }
  function populateSelect(id, arr) {
    let sel = document.getElementById(id); sel.innerHTML='';
    arr.forEach(v=> sel.add(new Option(v, v)));
  }
  function addSpecialist() {
    let s={ name:document.getElementById('specName').value,
            dept:document.getElementById('specDept').value,
            email:document.getElementById('specEmail').value,
            days:document.getElementById('specDays').value };
    specialists.push(s);
    renderTable('specialistsTable', specialists, ['name','dept','email','days']);
  }
  function addChild() {
    let c={ name:document.getElementById('childName').value,
            needs:document.getElementById('childNeeds').value,
            plan:document.getElementById('childPlan').value };
    children.push(c);
    renderTable('childrenTable', children, ['name','needs','plan']);
  }
  function renderTable(tableId, data, fields) {
    let tbody = document.getElementById(tableId).querySelector('tbody');
    tbody.innerHTML='';
    data.forEach(r=>{
      let tr=document.createElement('tr');
      fields.forEach(f=>{ let td=document.createElement('td'); td.textContent=r[f]; tr.append(td); });
      tbody.append(tr);
    });
  }

  function generateSchedule() {
    // stub: هنا يتم استدعاء لوغيك توزيع الجلسات وفق المتطلبات
    alert('ستعمل هنا وظيفة توزيع الجلسات تلقائياً');
  }
  function addReplacement() {
    // stub: إضافة سطر إلى جدول التعويضات
    alert('هنا إضافة التعويض');
  }
</script>

</body>
</html>
